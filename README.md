# Editor Support Tool

このREADMEは、今回の更新内容を **ユーザー向け** と **開発者向け** の2つの視点でまとめたものです。

## ユーザー向け（非技術者向け）

### 今回の主な改善
- **安全性の向上**: 外部からの不正な入力に強くなるよう、セキュリティ設定を強化しました。
- **データ保護の改善**: 端末に保存されるデータの扱いを見直し、共有端末でもリスクを下げるようにしました。
- **安定性・保守性の向上**: 内部構成を整理し、今後の改善や不具合修正を行いやすくしました。

### ご利用者への影響
- 基本的な使い方はこれまでと同じです。
- 画面表示や操作性に大きな変更はありません。
- 内部品質改善が中心のアップデートです。

---

## 開発者向け（技術詳細あり）

### 変更概要
1. **セキュリティ対策の追加**
   - `Content-Security-Policy` を追加
   - `X-Content-Type-Options: nosniff` を追加
   - `Referrer-Policy` を追加

2. **XSSリスク低減**
   - 主要な描画処理にエスケープ処理を適用
   - ステータス値を正規化する処理を導入

3. **ストレージ保護**
   - `localStorage`アクセスをラップし、TTL付き保存/読み出しに対応
   - 共有端末利用時のデータ残留リスクを低減

4. **ファイル分離（保守性向上）**
   - `index.html` 内のインラインCSS/JSを外部化
   - 追加ファイル:
     - `assets/css/app.css`
     - `assets/js/app.js`
   - `index.html` は外部ファイル参照構成へ移行

### 検証
- `tokumaru-lint` を実行
- `secret-scan` を実行
- 既知パターンの重大な問題がないことを確認

### 備考
- `innerHTML`利用箇所は機能維持を優先して一部継続しており、段階的なDOM API移行が次フェーズの候補です。
